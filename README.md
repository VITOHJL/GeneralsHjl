# Generals.io - æœ¬åœ°å•æœºæ¸¸æˆ

ä¸€ä¸ªåŸºäº generals.io æ¸¸æˆè§„åˆ™çš„æœ¬åœ°å•æœºç­–ç•¥æ¸¸æˆã€‚ç©å®¶å¯ä»¥åœ¨æœ¬åœ°ä¸AIæœºå™¨äººå¯¹æˆ˜ï¼Œä½“éªŒç»å…¸çš„é¢†åœŸæ‰©å¼ å’Œç­–ç•¥å¯¹æˆ˜ç©æ³•ã€‚

##å¯åœ¨http:generals.zech.xinè¿›è¡Œåœ¨çº¿è¯•ç©ï¼Œæˆ‘ä»¬å·²ä¸Šä¼ æ‰€æœ‰agent

## é¡¹ç›®çŠ¶æ€

âœ… **å·²å®ç°æ ¸å¿ƒåŠŸèƒ½** - æ¸¸æˆå¯ç©ï¼Œæ”¯æŒäººæœºå¯¹æˆ˜å’ŒAIå¯¹æˆ˜

## é¡¹ç›®ç‰¹ç‚¹

- ğŸ® **æœ¬åœ°å•æœºæ¸¸æˆ** - æ— éœ€è”ç½‘ï¼Œæœ¬åœ°è¿è¡Œ
- ğŸ¤– **å¤šç§AIå¯¹æ‰‹** - éšæœºAIã€è‡ªé€‚åº”AIã€Minimax AI å’Œå¼ºåŒ–å­¦ä¹ AIï¼ˆRLï¼‰
- ğŸ§  **å¼ºåŒ–å­¦ä¹ AI** - åŸºäº Q-Learning çš„ç­–ç•¥é€‰æ‹©AIï¼Œé€šè¿‡è®­ç»ƒå­¦ä¹ æœ€ä¼˜ç­–ç•¥
- ğŸ—ºï¸ **éšæœºåœ°å›¾ç”Ÿæˆ** - æ¯æ¬¡æ¸¸æˆéƒ½æ˜¯æ–°ä½“éªŒï¼Œæ”¯æŒè‡ªå®šä¹‰åœ°å›¾å°ºå¯¸
- ğŸ¯ **ç»å…¸æ¸¸æˆè§„åˆ™** - å®Œå…¨éµå¾ª generals.io çš„æ¸¸æˆè§„åˆ™
- ğŸ’» **ç°ä»£åŒ–æŠ€æœ¯æ ˆ** - React + Vite + Canvas + Zustand
- ğŸ¨ **ç²¾ç¾UIç•Œé¢** - å“åº”å¼è®¾è®¡ï¼Œæ”¯æŒç¼©æ”¾å’Œé‡ç½®è§†è§’
- ğŸ“Š **å®Œæ•´è®­ç»ƒç³»ç»Ÿ** - æ”¯æŒAIè®­ç»ƒã€è¯„ä¼°ã€å¯¹æ¯”å’ŒåŸºå‡†æµ‹è¯•

## æ¸¸æˆè§„åˆ™

### åŸºæœ¬ç©æ³•

1. **åœ°å›¾**: ç½‘æ ¼åœ°å›¾ï¼ŒåŒ…å«ç©ºåœ°ã€å±±è„‰ã€è¦å¡å’Œé¦–éƒ½
2. **å†›é˜Ÿ**: æ¯ä¸ªå·±æ–¹æ ¼å­æ¯å›åˆè‡ªåŠ¨å¢é•¿å†›é˜Ÿ
3. **ç§»åŠ¨**: ä»å·±æ–¹æ ¼å­ç§»åŠ¨åˆ°ç›¸é‚»æ ¼å­ï¼ˆéœ€è¦è‡³å°‘2ä¸ªå†›é˜Ÿï¼‰
4. **æˆ˜æ–—**: ç§»åŠ¨åˆ°æ•Œæ–¹æ ¼å­ä¼šè§¦å‘æˆ˜æ–—
5. **èƒœåˆ©**: æœ€åä¸€ä¸ªå­˜æ´»çš„ç©å®¶è·èƒœï¼ˆå é¢†æ•Œæ–¹é¦–éƒ½æˆ–æ¶ˆç­æ‰€æœ‰æ•Œæ–¹å†›é˜Ÿï¼‰

### è¯¦ç»†è§„åˆ™

- **å†›é˜Ÿå¢é•¿**: 
  - æ™®é€šæ ¼å­ï¼šæ¯25å›åˆï¼ˆ1è½®ï¼‰+1å•ä½
  - è¦å¡ï¼šæ¯å›åˆ+1å•ä½
  - é¦–éƒ½ï¼šæ¯å›åˆ+1å•ä½

- **æˆ˜æ–—æœºåˆ¶**: 
  - æ”»å‡»æ–¹å•ä½æ•° > é˜²å¾¡æ–¹ï¼šå é¢†ï¼Œå‰©ä½™ = æ”»å‡»æ–¹ - é˜²å¾¡æ–¹
  - æ”»å‡»æ–¹å•ä½æ•° = é˜²å¾¡æ–¹ï¼šåŒæ–¹éƒ½æ¶ˆå¤±ï¼Œæ ¼å­å˜ä¸ºç©ºåœ°
  - æ”»å‡»æ–¹å•ä½æ•° < é˜²å¾¡æ–¹ï¼šæ”»å‡»å¤±è´¥ï¼Œé˜²å¾¡æ–¹å‰©ä½™ = é˜²å¾¡æ–¹ - æ”»å‡»æ–¹

- **ç§»åŠ¨è§„åˆ™**: 
  - åªèƒ½ç§»åŠ¨åˆ°ç›¸é‚»çš„ä¸Šä¸‹å·¦å³å››ä¸ªæ–¹å‘
  - ä¸èƒ½ç§»åŠ¨åˆ°å±±åŒº
  - ç§»åŠ¨æ—¶å¿…é¡»åœ¨åŸæ ¼å­ç•™ä¸‹è‡³å°‘1ä¸ªå•ä½
  - æ”¯æŒä¸¤ç§ç§»åŠ¨æ–¹å¼ï¼š
    - **ç‚¹å‡»+ç‚¹å‡»**ï¼šç§»åŠ¨50%å…µåŠ›ï¼ˆå‘ä¸‹å–æ•´ï¼‰
    - **ç‚¹å‡»+æ‹–æ‹½**ï¼šåªä¿ç•™1ä¸ªå•ä½ï¼Œå…¶ä½™å…¨éƒ¨ç§»åŠ¨

- **ç‰¹æ®Šæ ¼å­**: 
  - **ç©ºåœ°ï¼ˆBlankï¼‰**: å¯å é¢†çš„æ™®é€šæ ¼å­
  - **å±±è„‰ï¼ˆMountainï¼‰**: ä¸å¯é€šè¿‡ï¼Œä¸å¯å é¢†
  - **è¦å¡ï¼ˆStrongholdï¼‰**: å¯å é¢†ï¼Œæ¯å›åˆ+1å•ä½ï¼Œå é¢†éœ€è¦é¢å¤–20-30éšæœºäººå£
  - **é¦–éƒ½ï¼ˆCapitalï¼‰**: ç©å®¶èµ·å§‹ç‚¹ï¼Œè¢«å é¢†å³å¤±è´¥ï¼Œæ¯å›åˆ+1å•ä½
  - **é¦–éƒ½è¿ç§»**: å é¢†æ•Œæ–¹é¦–éƒ½æ—¶ï¼Œå·±æ–¹é¦–éƒ½è¿ç§»åˆ°æ–°ä½ç½®ï¼ŒåŸé¦–éƒ½å˜ä¸ºè¦å¡

## æŠ€æœ¯æ ˆ

- **React 18** - UIæ¡†æ¶
- **Vite** - æ„å»ºå·¥å…·
- **Zustand** - çŠ¶æ€ç®¡ç†
- **HTML5 Canvas** - æ¸¸æˆæ¸²æŸ“
- **Tailwind CSS** - æ ·å¼æ¡†æ¶
- **JavaScript (ES6+)** - æ¸¸æˆé€»è¾‘

## é¡¹ç›®ç»“æ„

```
generals.io/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/          # Reactç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ GameCanvas.jsx   # æ¸¸æˆç”»å¸ƒ
â”‚   â”‚   â”œâ”€â”€ GameMenu.jsx     # æ¸¸æˆèœå•
â”‚   â”‚   â”œâ”€â”€ GameUI.jsx       # æ¸¸æˆUIï¼ˆæ’è¡Œæ¦œã€å½“å‰ç©å®¶ç­‰ï¼‰
â”‚   â”‚   â”œâ”€â”€ PauseMenu.jsx    # æš‚åœèœå•
â”‚   â”‚   â””â”€â”€ GameMenuModal.jsx # æ¸¸æˆå†…èœå•æ¨¡æ€æ¡†
â”‚   â”œâ”€â”€ game/                # æ¸¸æˆæ ¸å¿ƒé€»è¾‘
â”‚   â”‚   â”œâ”€â”€ GameEngine.js    # æ¸¸æˆå¼•æ“
â”‚   â”‚   â”œâ”€â”€ MapGenerator.js  # åœ°å›¾ç”Ÿæˆå™¨
â”‚   â”‚   â”œâ”€â”€ Renderer.js      # æ¸²æŸ“å¼•æ“
â”‚   â”‚   â””â”€â”€ ai/              # AIç³»ç»Ÿ
â”‚   â”‚       â”œâ”€â”€ AIBase.js    # AIåŸºç±»
â”‚   â”‚       â”œâ”€â”€ RandomAI.js  # éšæœºAI
â”‚   â”‚       â”œâ”€â”€ AdaptiveAI.js # è‡ªé€‚åº”AIï¼ˆæ™ºèƒ½ç­–ç•¥ï¼‰
â”‚   â”‚       â”œâ”€â”€ MinimaxAI.js # Minimaxç®—æ³•AI
â”‚   â”‚       â”œâ”€â”€ StrategyRLAI.js # ç­–ç•¥å¼ºåŒ–å­¦ä¹ AI
â”‚   â”‚       â”œâ”€â”€ QLearningAI.js  # åŸºç¡€Q-Learning AI
â”‚   â”‚       â”œâ”€â”€ StrategyExecutors.js # RLç­–ç•¥æ‰§è¡Œå™¨ï¼ˆBFSã€å¤šæºæ”»å‡»ç­‰ï¼‰
â”‚   â”‚       â””â”€â”€ index.js     # AIå¯¼å‡º
â”‚   â”œâ”€â”€ training/            # AIè®­ç»ƒå’Œè¯„ä¼°ç³»ç»Ÿ
â”‚   â”‚   â”œâ”€â”€ train.js         # å‘½ä»¤è¡Œå·¥å…·ï¼ˆè¯„ä¼°ã€å¯¹æ¯”ã€åŸºå‡†æµ‹è¯•ï¼‰
â”‚   â”‚   â”œâ”€â”€ train_rl.js      # RLè®­ç»ƒå‘½ä»¤è¡Œå·¥å…·
â”‚   â”‚   â”œâ”€â”€ train_qlearning.js # QLearningAIä¸“ç”¨è®­ç»ƒè„šæœ¬
â”‚   â”‚   â”œâ”€â”€ RLTrainer.js     # RLè®­ç»ƒå™¨
â”‚   â”‚   â”œâ”€â”€ GameSimulator.js # æ¸¸æˆæ¨¡æ‹Ÿå™¨
â”‚   â”‚   â”œâ”€â”€ Evaluator.js     # è¯„ä¼°å™¨
â”‚   â”‚   â”œâ”€â”€ README.md        # è®­ç»ƒç³»ç»Ÿæ–‡æ¡£
â”‚   â”‚   â”œâ”€â”€ COMMANDS.md      # å‘½ä»¤è¯¦è§£
â”‚   â”‚   â”œâ”€â”€ METRICS.md       # è¯„ä¼°æŒ‡æ ‡è¯´æ˜
â”‚   â”‚   â””â”€â”€ RL_STRATEGY.md   # RLç­–ç•¥æ–‡æ¡£
â”‚   â”œâ”€â”€ store/               # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â””â”€â”€ gameStore.js    # æ¸¸æˆçŠ¶æ€å­˜å‚¨
â”‚   â”œâ”€â”€ utils/               # å·¥å…·å‡½æ•°
â”‚   â”‚   â””â”€â”€ colors.js        # é¢œè‰²é…ç½®
â”‚   â”œâ”€â”€ assets/              # èµ„æºæ–‡ä»¶
â”‚   â”‚   â””â”€â”€ tiles/           # æ ¼å­å›¾ç‰‡
â”‚   â”œâ”€â”€ App.jsx              # ä¸»åº”ç”¨ç»„ä»¶
â”‚   â””â”€â”€ main.jsx             # å…¥å£æ–‡ä»¶
â”œâ”€â”€ package.json
â”œâ”€â”€ vite.config.js
â”œâ”€â”€ tailwind.config.js
â””â”€â”€ README.md
```

## å®‰è£…å’Œè¿è¡Œ  

### ç¯å¢ƒè¦æ±‚

- Node.js 16+ 
- npm æˆ– yarn

### å®‰è£…ä¾èµ–

```bash
npm install
```

### å¼€å‘æ¨¡å¼

```bash
npm run dev
```

å¼€å‘æœåŠ¡å™¨å°†åœ¨ `http://localhost:1732` å¯åŠ¨ï¼ˆæ”¯æŒ `--host` å‚æ•°ï¼Œå¯åœ¨å±€åŸŸç½‘è®¿é—®ï¼‰

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
npm run build
```

æ„å»ºå®Œæˆåï¼Œ`dist/` ç›®å½•åŒ…å«ï¼š
- ç¼–è¯‘åçš„å‰ç«¯ä»£ç 
- Qè¡¨æ–‡ä»¶ï¼ˆ`qtable-strategy.json`ã€`qtable-qlearning.json`ï¼‰
- é™æ€èµ„æº

### é¢„è§ˆç”Ÿäº§ç‰ˆæœ¬

```bash
npm run preview
```

### éƒ¨ç½²è¯´æ˜

1. **æ„å»ºé¡¹ç›®**ï¼šè¿è¡Œ `npm run build`
2. **éƒ¨ç½² dist ç›®å½•**ï¼šå°† `dist/` ç›®å½•éƒ¨ç½²åˆ°ä»»ä½•é™æ€æ–‡ä»¶æœåŠ¡å™¨
3. **Qè¡¨æ–‡ä»¶**ï¼šç¡®ä¿ `qtable-strategy.json` å’Œ `qtable-qlearning.json` åœ¨ `dist/` ç›®å½•ä¸­
4. **è®¿é—®**ï¼šé€šè¿‡æµè§ˆå™¨è®¿é—®éƒ¨ç½²çš„ `index.html`

**æ³¨æ„**ï¼šRL AI éœ€è¦åŠ è½½ Q è¡¨æ–‡ä»¶ï¼Œç¡®ä¿è¿™äº›æ–‡ä»¶å¯ä»¥é€šè¿‡ `/qtable-strategy.json` å’Œ `/qtable-qlearning.json` è·¯å¾„è®¿é—®ã€‚

## åŠŸèƒ½ç‰¹æ€§

### å·²å®ç°åŠŸèƒ½

#### AIè®­ç»ƒå’Œè¯„ä¼°ç³»ç»Ÿ
- [x] **æ¸¸æˆæ¨¡æ‹Ÿå™¨** - æ— å¤´æ¨¡å¼è¿è¡Œæ¸¸æˆï¼Œæ”¶é›†ç»Ÿè®¡æ•°æ®
- [x] **å¤šç»´åº¦è¯„ä¼°å™¨** - è¯„ä¼°AIçš„èƒœè´Ÿã€æ•ˆç‡ã€ç¨³å®šæ€§ç­‰æŒ‡æ ‡
- [x] **å‘½ä»¤è¡Œå·¥å…·** - æ”¯æŒevaluateã€compareã€benchmarkä¸‰ç§å‘½ä»¤
- [x] **æ•°æ®é›†åˆ†ç¦»** - è®­ç»ƒé›†ã€éªŒè¯é›†ã€æµ‹è¯•é›†åˆ†ç¦»
- [x] **å¯¹æŠ—æ€§æµ‹è¯•** - è¢«å›´æ”»ã€èµ„æºåŠ£åŠ¿ã€é•¿æœŸå¯¹æŠ—ç­‰åœºæ™¯
- [x] **ç¨³å®šæ€§è¯„ä¼°** - æ ‡å‡†å·®ã€å˜å¼‚ç³»æ•°ã€åˆ†ä½æ•°åˆ†æ
- [x] **åœºæ™¯è¦†ç›–** - æ”¯æŒä¸åŒåœ°å›¾å°ºå¯¸ã€ç©å®¶æ•°é‡ã€å¯¹æ‰‹ç±»å‹

#### æ ¸å¿ƒæ¸¸æˆåŠŸèƒ½
- [x] **å…¬å¹³åœ°å›¾ç”Ÿæˆç³»ç»Ÿ**ï¼ˆæ”¯æŒå°/ä¸­/å¤§ä¸‰ç§å°ºå¯¸ï¼‰
  - Voronoiå›¾ç®—æ³•ç¡®ä¿å„ç©å®¶åˆå§‹åœ°ç›˜å¤§å°å·®å¼‚ < 20%
  - é¦–éƒ½ä¹‹é—´æœ€å°è·ç¦» = WIDTH * 0.4ï¼ˆæ›¼å“ˆé¡¿è·ç¦»ï¼‰
  - åŒºåŸŸå†…èµ„æºï¼ˆè¦å¡ã€å±±åŒºï¼‰å‡è¡¡åˆ†é…
  - è¿é€šæ€§ä¿è¯ï¼ˆå…è®¸æœ€å¤š20%ä¸è¿é€šï¼‰
- [x] å›åˆåˆ¶æ¸¸æˆå¼•æ“
- [x] å†›é˜Ÿå¢é•¿ç³»ç»Ÿ
- [x] æˆ˜æ–—ç³»ç»Ÿ
- [x] å é¢†ç³»ç»Ÿ
- [x] èƒœåˆ©åˆ¤å®šï¼ˆæœ€åå­˜æ´»è€…è·èƒœï¼‰
- [x] é¦–éƒ½è¿ç§»æœºåˆ¶
- [x] è¦å¡å é¢†æœºåˆ¶ï¼ˆéœ€è¦é¢å¤–äººå£ï¼‰

#### ç©å®¶æ“ä½œ
- [x] ç‚¹å‡»é€‰æ‹©æºæ ¼å­
- [x] ç‚¹å‡»ç›®æ ‡æ ¼å­ç§»åŠ¨ï¼ˆ50%å…µåŠ›ï¼‰
- [x] æ‹–æ‹½ç§»åŠ¨ï¼ˆä¿ç•™1ä¸ªå•ä½ï¼Œå…¶ä½™å…¨éƒ¨ç§»åŠ¨ï¼‰
- [x] æ“ä½œéªŒè¯å’Œåé¦ˆ
- [x] é«˜äº®æ˜¾ç¤ºé€‰ä¸­æ ¼å­
- [x] æ˜¾ç¤ºç§»åŠ¨é¢„è§ˆ

#### AIç³»ç»Ÿ
- [x] **RandomAI** - éšæœºç§»åŠ¨AIï¼ˆåŸºç¡€éš¾åº¦ï¼‰
- [x] **AdaptiveAI** - è‡ªé€‚åº”AIï¼ˆæ™ºèƒ½ç­–ç•¥ï¼‰
  - è¿›æ”»ç­–ç•¥ï¼šæ ¹æ®å…µåŠ›å¯¹æ¯”ã€è·ç¦»ã€å¨èƒç­‰å› ç´ é€‰æ‹©è¿›æ”»ç›®æ ‡
  - é˜²å¾¡ç­–ç•¥ï¼šä¿æŠ¤é‡è¦ç›®æ ‡ï¼ˆé¦–éƒ½ã€è¦å¡ï¼‰
  - å‘è‚²ç­–ç•¥ï¼šæ‰©å¼ é¢†åœŸã€å é¢†è¦å¡ã€æ¨¡ä»¿æ•Œæ–¹æ‰©å¼ 
  - ç­–ç•¥æƒé‡ï¼šè¿›æ”»(1.25) > é˜²å¾¡(1.1) > å‘è‚²(0.95)
- [x] **MinimaxAI** - Minimaxç®—æ³•AIï¼ˆåšå¼ˆæ ‘æœç´¢ï¼‰
  - ä½¿ç”¨Minimaxç®—æ³•å’ŒAlpha-Betaå‰ªæè¿›è¡Œå†³ç­–
  - å¤šç»´åº¦è¯„ä¼°å‡½æ•°ï¼šé¢†åœŸã€å†›é˜Ÿã€é‡è¦ç›®æ ‡ã€å¢é•¿ç‡ã€ä½ç½®ä¼˜åŠ¿
  - å¯é…ç½®æœç´¢æ·±åº¦å’Œåˆ†æ”¯æ•°ï¼ˆé»˜è®¤æ·±åº¦2å±‚ï¼Œæ¯å±‚æœ€å¤š10ä¸ªåˆ†æ”¯ï¼‰
  - é€‚åˆäººå·¥æ™ºèƒ½è¯¾ç¨‹å­¦ä¹ å’Œç ”ç©¶
- [x] **StrategyRLAI** - ç­–ç•¥å¼ºåŒ–å­¦ä¹ AIï¼ˆåˆ†å±‚Q-Learningï¼‰
  - ä½¿ç”¨ Q-Learning å­¦ä¹ é«˜å±‚ç­–ç•¥é€‰æ‹©ï¼ˆATTACKã€DEFENDã€GROWã€ALL_INï¼‰
  - åº•å±‚ç­–ç•¥æ‰§è¡Œç”±å¯å‘å¼ç®—æ³•æä¾›ï¼ˆBFSè·¯å¾„è§„åˆ’ã€å¤šæºæ”»å‡»ã€ä¸»åŠ¨é˜²å¾¡ç­‰ï¼‰
  - çŠ¶æ€ç¼–ç ï¼šå‹ç¼©æ¸¸æˆçŠ¶æ€ä¸º5ç»´ç‰¹å¾ï¼ˆé¢†åœŸã€å…µåŠ›ã€è·ç¦»ã€è¦å¡ã€å›åˆï¼‰
  - å¥–åŠ±å‡½æ•°ï¼šæ—©æœŸèƒœåˆ©å¥–åŠ±ã€é¢†åœŸæŸå¤±æƒ©ç½š
  - è®­ç»ƒåå¯è¾¾åˆ°é«˜èƒœç‡ï¼ˆ1v1å¯¹adaptiveçº¦92%,1v1å¯¹randomçº¦100%ï¼Œ1v3å¯¹adaptiveçº¦75%ï¼‰
- [x] **QLearningAI** - åŸºç¡€Q-Learning AI
  - ç›´æ¥å­¦ä¹ åŠ¨ä½œçº§åˆ«çš„Qå€¼
  - çŠ¶æ€ç¼–ç ï¼š2ç»´ç‰¹å¾ï¼ˆé¢†åœŸã€å…µåŠ›ï¼‰
  - é€‚åˆç ”ç©¶åŸºç¡€å¼ºåŒ–å­¦ä¹ ç®—æ³•

#### UIç•Œé¢
- [x] æ¸¸æˆä¸»èœå•ï¼ˆé…ç½®ç©å®¶ã€åœ°å›¾å°ºå¯¸ã€AIç±»å‹ï¼‰
- [x] æ¸¸æˆç”»å¸ƒï¼ˆCanvasæ¸²æŸ“ï¼‰
- [x] æ¸¸æˆUIï¼ˆå½“å‰ç©å®¶ã€å›åˆæ•°ã€æ’è¡Œæ¦œï¼‰
- [x] æš‚åœèœå•ï¼ˆé€€å‡ºæ¸¸æˆï¼‰
- [x] ç¼©æ”¾å’Œé‡ç½®è§†è§’åŠŸèƒ½
- [x] ç©å®¶é¢œè‰²ç³»ç»Ÿï¼ˆæ¯ä¸ªç©å®¶å›ºå®šé¢œè‰²ï¼‰
- [x] å½“å‰ç©å®¶é«˜äº®è¾¹æ¡†
- [x] å“åº”å¼è®¾è®¡

#### æ¸¸æˆé…ç½®
- [x] æ”¯æŒ2-8ä¸ªç©å®¶(ç†è®ºæ— ä¸Šé™)
- [x] æ¯ä¸ªç©å®¶å¯é…ç½®ä¸ºäººæˆ–AI
- [x] AIç±»å‹é€‰æ‹©ï¼ˆRandomã€Adaptiveã€Minimaxã€ç­–ç•¥RL AIã€Q-Learning AIï¼‰
- [x] åœ°å›¾å°ºå¯¸é€‰æ‹©ï¼ˆå°15x15ã€ä¸­25x25ã€å¤§35x35ï¼‰
- [x] RL AIè‡ªåŠ¨åŠ è½½è®­ç»ƒå¥½çš„Qè¡¨ï¼ˆå‰ç«¯é€šè¿‡fetchåŠ è½½ï¼‰

### è®¡åˆ’å®ç°

- [ ] æ¸¸æˆå›æ”¾åŠŸèƒ½
- [ ] ç»Ÿè®¡ä¿¡æ¯ï¼ˆèƒœç‡ã€å¹³å‡å›åˆæ•°ç­‰ï¼‰
- [ ] å¿«æ·é”®æ”¯æŒ
- [ ] éŸ³æ•ˆå’ŒèƒŒæ™¯éŸ³ä¹
- [ ] æ›´å¤šAIç­–ç•¥ç±»å‹
- [ ] è¿·é›¾ç³»ç»Ÿï¼ˆè§†é‡é™åˆ¶ï¼‰
- [ ] ä»»åŠ¡é˜Ÿåˆ—ç³»ç»Ÿï¼ˆåŠå›åˆåˆ¶ï¼‰

## åœ°å›¾ç”Ÿæˆç³»ç»Ÿè¯¦è§£

### å…¬å¹³åœ°å›¾ç”Ÿæˆç®—æ³•

åœ°å›¾ç”Ÿæˆé‡‡ç”¨**å…¬å¹³ä¼˜å…ˆ**çš„è®¾è®¡ç†å¿µï¼Œç¡®ä¿æ‰€æœ‰ç©å®¶åœ¨æ¸¸æˆå¼€å§‹æ—¶æ‹¥æœ‰ç›¸å¯¹å‡è¡¡çš„èµ·å§‹æ¡ä»¶ã€‚

#### ç”Ÿæˆæµç¨‹

1. **Voronoiå›¾ç¡®è®¤é¦–éƒ½ä½ç½®**
   - é¦–éƒ½ä¹‹é—´æœ€å°è·ç¦»ï¼š`WIDTH * 0.4`ï¼ˆæ›¼å“ˆé¡¿è·ç¦»ï¼‰
   - è¿­ä»£ä¼˜åŒ–ï¼šæœ€å¤šå°è¯•50æ¬¡ï¼Œæ‰¾åˆ°æ»¡è¶³å¹³è¡¡æ¡ä»¶çš„é…ç½®
   - å¹³è¡¡æ¡ä»¶ï¼šå„ç©å®¶åˆå§‹åœ°ç›˜å¤§å°å·®å¼‚ < 20%

2. **åŒºåŸŸåˆ’åˆ†ï¼ˆVoronoiå›¾ï¼‰**
   - æ ¹æ®æœ€è¿‘è·ç¦»åŸåˆ™ï¼Œå°†åœ°å›¾åˆ’åˆ†ä¸ºå„ç©å®¶çš„"åŠ¿åŠ›èŒƒå›´"
   - æ¯ä¸ªæ ¼å­å½’å±è·ç¦»æœ€è¿‘çš„é¦–éƒ½
   - ç¡®ä¿æ¯ä¸ªç©å®¶æœ‰æ˜ç¡®çš„åˆå§‹åœ°ç›˜

3. **åŒºåŸŸå†…è¦å¡åˆ†é…**
   - æ¯ä¸ªåŒºåŸŸçš„è¦å¡æ•°é‡ï¼šéšæœºèŒƒå›´ `[(width*height)/(playerCount*30), (width*height)/(playerCount*20)]`
   - ä»å„åŒºåŸŸçš„ç©ºåœ°ä¸­éšæœºé€‰æ‹©ä½ç½®
   - ç¡®ä¿æ¯ä¸ªç©å®¶éƒ½æœ‰ç›¸å¯¹å‡è¡¡çš„è¦å¡èµ„æº

4. **åŒºåŸŸå†…å±±åŒºåˆ†é…ï¼ˆæ³¨æ„è¿é€šæ€§ï¼‰**
   - æ¯ä¸ªåŒºåŸŸçš„å±±åŒºæ•°é‡ï¼šéšæœºèŒƒå›´ `[(width*height)/(playerCount*8), (width*height)/(playerCount*6)]`
   - æ”¾ç½®æ—¶å®æ—¶æ£€æŸ¥è¿é€šæ€§ï¼ˆå…è®¸æœ€å¤š20%ä¸è¿é€šï¼‰
   - é¿å…åœ¨é¦–éƒ½ç›´æ¥ç›¸é‚»ä½ç½®æ”¾ç½®å±±åŒº
   - å¦‚æœè¿é€šæ€§æ£€æŸ¥å¤ªä¸¥æ ¼ï¼Œè‡³å°‘æ”¾ç½®ç›®æ ‡æ•°é‡çš„70%

5. **æœ€ç»ˆè¿é€šæ€§æ£€æŸ¥**
   - ä½¿ç”¨BFSç®—æ³•æ£€æŸ¥æ•´ä½“åœ°å›¾è¿é€šæ€§
   - å¦‚æœå‘ç°ä¸è¿é€šï¼Œæ™ºèƒ½ç§»é™¤éƒ¨åˆ†å±±åŒº

#### å…¬å¹³æ€§ä¿è¯

- âœ… **åœ°ç›˜å¤§å°å‡è¡¡**ï¼šå„ç©å®¶åˆå§‹åœ°ç›˜å¤§å°å·®å¼‚ < 20%
- âœ… **èµ„æºåˆ†å¸ƒå‡è¡¡**ï¼šæ¯ä¸ªåŒºåŸŸçš„è¦å¡å’Œå±±åŒºæ•°é‡åœ¨éšæœºèŒƒå›´å†…ï¼Œç›¸å¯¹å‡è¡¡
- âœ… **è·ç¦»æ§åˆ¶**ï¼šé¦–éƒ½ä¹‹é—´è·ç¦»åˆç†ï¼Œé¿å…å¼€å±€å†²çª
- âœ… **è¿é€šæ€§ä¿è¯**ï¼šç¡®ä¿ç©å®¶å¯ä»¥äº’ç›¸åˆ°è¾¾ï¼Œä½†å…è®¸ä¸€å®šç¨‹åº¦çš„éš”ç¦»ï¼ˆ20%ï¼‰

#### å¯è°ƒæ•´å‚æ•°

åœ¨ `MapGenerator.js` ä¸­å¯ä»¥è°ƒæ•´ï¼š

- **è¦å¡æ•°é‡èŒƒå›´**ï¼š
  - `minStrongholdsPerRegion`: `(width*height)/(playerCount*30)`
  - `maxStrongholdsPerRegion`: `(width*height)/(playerCount*20)`

- **å±±åŒºæ•°é‡èŒƒå›´**ï¼š
  - `minMountainsPerRegion`: `(width*height)/(playerCount*8)`
  - `maxMountainsPerRegion`: `(width*height)/(playerCount*6)`

- **è¿é€šæ€§é˜ˆå€¼**ï¼š
  - å½“å‰è®¾ç½®ä¸º80%ï¼ˆå…è®¸20%ä¸è¿é€šï¼‰

## AIç³»ç»Ÿè¯¦è§£

### RandomAIï¼ˆéšæœºAIï¼‰

æœ€ç®€å•çš„AIï¼Œéšæœºé€‰æ‹©å·±æ–¹æ ¼å­å‘éšæœºæ–¹å‘ç§»åŠ¨ã€‚é€‚åˆæ–°æ‰‹ç»ƒä¹ ã€‚

### MinimaxAIï¼ˆMinimaxç®—æ³•AIï¼‰

åŸºäºç»å…¸Minimaxç®—æ³•å’ŒAlpha-Betaå‰ªæçš„AIï¼Œé€‚åˆäººå·¥æ™ºèƒ½è¯¾ç¨‹å­¦ä¹ å’Œç ”ç©¶ã€‚

#### ç®—æ³•ç‰¹ç‚¹

- **Minimaxç®—æ³•**ï¼šåœ¨åšå¼ˆæ ‘ä¸­æœç´¢æœ€ä¼˜å†³ç­–
  - æœ€å¤§åŒ–å±‚ï¼ˆå·±æ–¹ï¼‰ï¼šé€‰æ‹©å¾—åˆ†æœ€é«˜çš„ç§»åŠ¨
  - æœ€å°åŒ–å±‚ï¼ˆå¯¹æ‰‹ï¼‰ï¼šå‡è®¾å¯¹æ‰‹é€‰æ‹©å¯¹å·±æ–¹æœ€ä¸åˆ©çš„ç§»åŠ¨
- **Alpha-Betaå‰ªæ**ï¼šä¼˜åŒ–æœç´¢æ•ˆç‡ï¼Œå‰ªé™¤ä¸å¯èƒ½å½±å“æœ€ç»ˆå†³ç­–çš„åˆ†æ”¯
- **å¯é…ç½®å‚æ•°**ï¼š
  - `maxDepth`ï¼šæœç´¢æ·±åº¦ï¼ˆé»˜è®¤2å±‚ï¼Œå»ºè®®2-3å±‚ï¼‰
  - `maxBranches`ï¼šæ¯å±‚æœ€å¤§åˆ†æ”¯æ•°ï¼ˆé»˜è®¤10ä¸ªï¼Œé™åˆ¶æœç´¢ç©ºé—´ï¼‰

#### è¯„ä¼°å‡½æ•°ï¼ˆå¯å‘å¼ï¼‰

è¯„ä¼°å‡½æ•°ä»å¤šä¸ªç»´åº¦è¯„ä¼°æ¸¸æˆçŠ¶æ€ï¼Œè¿”å›å¯¹å·±æ–¹æœ‰åˆ©çš„åˆ†æ•°ï¼š

1. **é¢†åœŸä¼˜åŠ¿**ï¼ˆæƒé‡30%ï¼‰ï¼šå·±æ–¹é¢†åœŸæ•°é‡ vs å¯¹æ‰‹å¹³å‡é¢†åœŸæ•°é‡
2. **å†›é˜Ÿä¼˜åŠ¿**ï¼ˆæƒé‡25%ï¼‰ï¼šå·±æ–¹æ€»å…µåŠ› vs å¯¹æ‰‹å¹³å‡æ€»å…µåŠ›
3. **é‡è¦ç›®æ ‡æ§åˆ¶**ï¼ˆæƒé‡20%ï¼‰ï¼šé¦–éƒ½ï¼ˆ100åˆ†/ä¸ªï¼‰+ è¦å¡ï¼ˆ50åˆ†/ä¸ªï¼‰
4. **å†›é˜Ÿå¢é•¿ç‡**ï¼ˆæƒé‡15%ï¼‰ï¼šæ¯å›åˆå†›é˜Ÿå¢é•¿æ½œåŠ›
5. **ä½ç½®ä¼˜åŠ¿**ï¼ˆæƒé‡10%ï¼‰ï¼šå·±æ–¹é¦–éƒ½åˆ°æ•Œæ–¹é¦–éƒ½çš„è·ç¦»ï¼ˆè·ç¦»è¶Šè¿‘è¶Šå¥½ï¼‰

#### æ€§èƒ½ä¼˜åŒ–

- **æ·±åº¦é™åˆ¶**ï¼šé»˜è®¤æœç´¢2å±‚ï¼Œé¿å…è®¡ç®—æ—¶é—´è¿‡é•¿
- **åˆ†æ”¯å‰ªæ**ï¼šæ¯å±‚åªè€ƒè™‘æœ€æœ‰å¸Œæœ›çš„10ä¸ªç§»åŠ¨ï¼ˆæŒ‰å¯å‘å¼åˆ†æ•°æ’åºï¼‰
- **çŠ¶æ€æ¨¡æ‹Ÿ**ï¼šä½¿ç”¨æ·±åº¦å¤åˆ¶æ¨¡æ‹Ÿç§»åŠ¨ï¼Œä¸å½±å“å®é™…æ¸¸æˆçŠ¶æ€
- **å›é€€æœºåˆ¶**ï¼šå¦‚æœMinimaxå¤±è´¥ï¼Œè‡ªåŠ¨å›é€€åˆ°RandomAI

#### é€‚ç”¨åœºæ™¯

- äººå·¥æ™ºèƒ½è¯¾ç¨‹æ•™å­¦
- åšå¼ˆç®—æ³•ç ”ç©¶
- å°è§„æ¨¡å¯¹æˆ˜ï¼ˆ2-4ç©å®¶ï¼Œæœç´¢æ·±åº¦2-3å±‚ï¼‰
- éœ€è¦ç²¾ç¡®å†³ç­–çš„åœºæ™¯

**æ³¨æ„**ï¼šMinimaxAIçš„è®¡ç®—å¤æ‚åº¦è¾ƒé«˜ï¼Œåœ¨å¤šäººæ¸¸æˆæˆ–å¤§åœ°å›¾ä¸­å¯èƒ½è¾ƒæ…¢ã€‚å»ºè®®ï¼š
- 2-3ç©å®¶ï¼šæ·±åº¦2-3å±‚
- 4+ç©å®¶ï¼šæ·±åº¦1-2å±‚
- å¤§åœ°å›¾ï¼šå‡å°‘maxBranchesæˆ–é™ä½æ·±åº¦

### AdaptiveAIï¼ˆè‡ªé€‚åº”AIï¼‰

æ™ºèƒ½AIç³»ç»Ÿï¼Œé‡‡ç”¨å¤šç­–ç•¥è¯„ä¼°æœºåˆ¶ï¼š

#### ç­–ç•¥è¯„ä¼°æµç¨‹

1. **æ„å»ºä¸Šä¸‹æ–‡**ï¼šåˆ†æå½“å‰æ¸¸æˆçŠ¶æ€
   - å·±æ–¹/æ•Œæ–¹æ ¼å­åˆ†å¸ƒ
   - é‡è¦ç›®æ ‡ä½ç½®ï¼ˆé¦–éƒ½ã€è¦å¡ï¼‰
   - å…µåŠ›å¯¹æ¯”
   - å¨èƒæ£€æµ‹

2. **ç”Ÿæˆç­–ç•¥å€™é€‰**ï¼š
   - **è¿›æ”»ç­–ç•¥**ï¼šè¯„ä¼°è¿›æ”»æ•Œæ–¹é‡è¦ç›®æ ‡çš„å¯è¡Œæ€§
   - **é˜²å¾¡ç­–ç•¥**ï¼šè¯„ä¼°ä¿æŠ¤å·±æ–¹é‡è¦ç›®æ ‡çš„å¿…è¦æ€§
   - **å‘è‚²ç­–ç•¥**ï¼šè¯„ä¼°æ‰©å¼ é¢†åœŸçš„ä¼˜å…ˆçº§

3. **è¯„åˆ†å’Œé€‰æ‹©**ï¼š
   - æ¯ä¸ªç­–ç•¥è®¡ç®—åŸºç¡€åˆ†æ•°
   - åº”ç”¨ç­–ç•¥æƒé‡ï¼ˆè¿›æ”»1.25ã€é˜²å¾¡1.1ã€å‘è‚²0.95ï¼‰
   - é€‰æ‹©å¾—åˆ†æœ€é«˜çš„ç­–ç•¥æ‰§è¡Œ
   - å¦‚æœæ‰€æœ‰ç­–ç•¥å¾—åˆ†â‰¤0ï¼Œå›é€€åˆ°RandomAI

#### è¿›æ”»ç­–ç•¥è§¦å‘æ¡ä»¶

- **ä¿å®ˆå‹**ï¼šå·±æ–¹æ€»å…µåŠ›æ˜æ˜¾é¢†å…ˆæ—¶è¿›æ”»
- **æ¿€è¿›å‹**ï¼šå·±æ–¹é¦–éƒ½å…µåŠ›â‰¥æ•Œæ–¹é¦–éƒ½å…µåŠ›æ—¶è¿›æ”»
- **åå‡»å‹**ï¼šå·±æ–¹é‡è¦ç›®æ ‡è¢«å¨èƒæ—¶ä¼˜å…ˆæ‰“å‡»å¨èƒæ¥æº
- **å­¤æ³¨ä¸€æ·**ï¼š50å›åˆåä»è½åæ—¶æé«˜è¿›æ”»å€¾å‘

#### é˜²å¾¡ç­–ç•¥

- æ£€æµ‹å·±æ–¹é¦–éƒ½/è¦å¡é™„è¿‘çš„æ•Œæ–¹å•ä½
- ä»æœ€è¿‘çš„å·±æ–¹æ ¼å­è°ƒå…µæ”¯æ´
- é‡è¦æ€§è¶Šé«˜ï¼ˆé¦–éƒ½>è¦å¡ï¼‰ï¼Œé˜²å¾¡ä¼˜å…ˆçº§è¶Šé«˜

#### å‘è‚²ç­–ç•¥ï¼ˆå››ç§æ¨¡å¼éšæœºåˆ‡æ¢ï¼‰

- **æœ€è¿‘è¦å¡**ï¼ˆ35%æ¦‚ç‡ï¼‰ï¼šä¼˜å…ˆå é¢†æœ€è¿‘çš„ä¸­ç«‹è¦å¡
- **è¾¹ç•Œæ‰©å¼ **ï¼ˆ30%æ¦‚ç‡ï¼‰ï¼šå‘å·±æ–¹è¾¹ç•Œå¤–çš„ç©ºåœ°æ‰©å¼ 
- **è¿›æ”»å‹å‘è‚²**ï¼ˆ20%æ¦‚ç‡ï¼‰ï¼šé’ˆå¯¹æ•Œæ–¹é‡è¦ç›®æ ‡å®šå‘æ‰©å¼ 
- **æ¨¡ä»¿å‹**ï¼ˆ15%æ¦‚ç‡ï¼‰ï¼šæ²¿æ•Œæ–¹ä¸»è¦æ¨è¿›æ–¹å‘æ‰©å¼ 

### StrategyRLAIï¼ˆç­–ç•¥å¼ºåŒ–å­¦ä¹ AIï¼‰

åŸºäºåˆ†å±‚æ¶æ„çš„å¼ºåŒ–å­¦ä¹ AIï¼Œä½¿ç”¨ Q-Learning å­¦ä¹ é«˜å±‚ç­–ç•¥é€‰æ‹©ï¼Œåº•å±‚ç­–ç•¥æ‰§è¡Œç”±å¯å‘å¼ç®—æ³•æä¾›ã€‚

#### è®¾è®¡ç†å¿µ

- **åˆ†å±‚æ¶æ„**ï¼šå°†å¤æ‚çš„æ¸¸æˆå†³ç­–åˆ†è§£ä¸ºé«˜å±‚ç­–ç•¥é€‰æ‹©ï¼ˆRLï¼‰å’Œåº•å±‚æˆ˜æœ¯æ‰§è¡Œï¼ˆå¯å‘å¼ï¼‰
- **çŠ¶æ€ç©ºé—´å‹ç¼©**ï¼šå°†æ¸¸æˆçŠ¶æ€å‹ç¼©ä¸º5ç»´ç‰¹å¾ï¼Œé¿å…çŠ¶æ€ç©ºé—´çˆ†ç‚¸
- **ç­–ç•¥æŠ½è±¡**ï¼šå­¦ä¹ é€‰æ‹©4ç§é«˜å±‚ç­–ç•¥ï¼ˆATTACKã€DEFENDã€GROWã€ALL_INï¼‰ï¼Œè€Œä¸æ˜¯å­¦ä¹ å…·ä½“åŠ¨ä½œ
  
#### æŠ€æœ¯ç‰¹ç‚¹

1. **çŠ¶æ€ç¼–ç **ï¼š
   - é¢†åœŸå æ¯”ï¼ˆ20æ¡£ï¼‰
   - å…µåŠ›è§„æ¨¡ï¼ˆ20æ¡£ï¼‰
   - åˆ°æœ€è¿‘æ•Œäººè·ç¦»ï¼ˆ5æ¡£ï¼‰
   - è¦å¡æ•°é‡ï¼ˆ3æ¡£ï¼‰
   - å›åˆæ•°é˜¶æ®µï¼ˆ3æ¡£ï¼‰
   - æ€»çŠ¶æ€ç©ºé—´ï¼š20Ã—20Ã—5Ã—3Ã—3 = 18,000

2. **Q-Learningå‚æ•°**ï¼š
   - å­¦ä¹ ç‡ï¼š0.1
   - æŠ˜æ‰£å› å­ï¼š0.95
   - Îµ-è´ªå©ªæ¢ç´¢ï¼šåˆå§‹0.1ï¼Œè¡°å‡åˆ°0.05

3. **å¥–åŠ±å‡½æ•°**ï¼š
   - èƒœåˆ©ï¼š+1000ï¼ˆæ—©æœŸèƒœåˆ©é¢å¤–å¥–åŠ±ï¼‰
   - å¤±è´¥ï¼š-50ï¼ˆé¢†åœŸæŸå¤±æƒ©ç½šï¼‰
   - é¿å…maxTurnsåˆ¤å®šï¼šä¸å­¦ä¹ "äººå£èƒœåˆ©"ç­–ç•¥

4. **åº•å±‚ç­–ç•¥æ‰§è¡Œå™¨**ï¼ˆStrategyExecutorsï¼‰ï¼š
   - **BFSè·¯å¾„è§„åˆ’**ï¼šé¿å±±å¯»è·¯ï¼Œæ”¯æŒå¤šæ­¥ç§»åŠ¨
   - **å¤šæºæ”»å‡»**ï¼šåè°ƒå¤šä¸ªæ ¼å­åŒæ—¶æ”»å‡»é«˜ä»·å€¼ç›®æ ‡
   - **ä¸»åŠ¨é˜²å¾¡**ï¼šæ£€æµ‹è¾¹ç•Œå…¥ä¾µã€èƒŒåˆºé£é™©ï¼Œæå‰é˜²å¾¡
   - **åå‹¤è¿è¾“**ï¼šä»åæ–¹å‘å‰çº¿è¾“é€å…µåŠ›
   - **å…³é”®ä½ç½®ä¿æŠ¤**ï¼šå¤šäººæ¸¸æˆä¸­ä¿æŠ¤é¦–éƒ½/è¦å¡çš„æœ€å°å…µåŠ›é˜ˆå€¼

#### è®­ç»ƒæ–¹æ³•

```powershell
# è®­ç»ƒ StrategyRLAIï¼ˆå¯¹ random å¯¹æ‰‹ï¼‰
node src/training/train_rl.js `
  --agent strategy `
  --episodes 2000 `
  --players 2 `
  --width 10 `
  --height 10 `
  --maxTurns 500 `
  --mode against-fixed `
  --opponent random `
  --savePath ./qtable-strategy-random.json

# ç»§ç»­è®­ç»ƒï¼ˆå¯¹ adaptive å¯¹æ‰‹ï¼‰
node src/training/train_rl.js `
  --agent strategy `
  --episodes 2000 `
  --opponent adaptive `
  --loadPath ./qtable-strategy-random.json `
  --savePath ./qtable-strategy-adaptive.json
```

#### æ€§èƒ½è¡¨ç°

- **1v1å¯¹Random**ï¼šèƒœç‡ > 90%
- **1v1å¯¹Adaptive**ï¼šèƒœç‡çº¦ 60%
- **1v3å¯¹Adaptive**ï¼šèƒœç‡çº¦ 50%

### QLearningAIï¼ˆåŸºç¡€Q-Learning AIï¼‰

ç›´æ¥å­¦ä¹ åŠ¨ä½œçº§åˆ«çš„Qå€¼ï¼Œé€‚åˆç ”ç©¶åŸºç¡€å¼ºåŒ–å­¦ä¹ ç®—æ³•ã€‚

#### ç‰¹ç‚¹

- **ç®€åŒ–çŠ¶æ€ç©ºé—´**ï¼š2ç»´ç‰¹å¾ï¼ˆé¢†åœŸå æ¯”ã€å…µåŠ›è§„æ¨¡ï¼‰
- **åŠ¨ä½œç©ºé—´**ï¼šå½“å‰ç®€åŒ–ä¸º"random"åŠ¨ä½œï¼ˆå®é™…æ‰§è¡Œéšæœºç§»åŠ¨ï¼‰
- **é€‚åˆå­¦ä¹ **ï¼šç†è§£Q-Learningçš„åŸºæœ¬åŸç†

#### è®­ç»ƒæ–¹æ³•

```powershell
# è®­ç»ƒ QLearningAI
node src/training/train_qlearning.js `
  --episodes 2000 `
  --opponent random `
  --savePath ./qtable-qlearning.json
```

#### ä¸ StrategyRLAI çš„åŒºåˆ«

| ç‰¹æ€§ | StrategyRLAI | QLearningAI |
|------|-------------|-------------|
| çŠ¶æ€ç¼–ç  | 5ç»´ï¼ˆ18,000çŠ¶æ€ï¼‰ | 2ç»´ï¼ˆ400çŠ¶æ€ï¼‰ |
| åŠ¨ä½œç©ºé—´ | 4ç§ç­–ç•¥ | 1ç§åŠ¨ä½œï¼ˆrandomï¼‰ |
| åº•å±‚æ‰§è¡Œ | å¯å‘å¼ç®—æ³• | éšæœºç§»åŠ¨ |
| å­¦ä¹ ç›®æ ‡ | ç­–ç•¥é€‰æ‹© | åŠ¨ä½œé€‰æ‹© |
| é€‚ç”¨åœºæ™¯ | å®é™…å¯¹æˆ˜ | ç®—æ³•å­¦ä¹  |

#### å¯¹æ¯” RL AI æ€§èƒ½

ä½¿ç”¨ `train.js compare` å‘½ä»¤å¯ä»¥å¯¹æ¯”ä¸åŒ AI çš„æ€§èƒ½ï¼š

```powershell
# å¯¹æ¯” StrategyRLAI å’Œ QLearningAI
node src/training/train.js compare `
  --ai1 strategy_rl `
  --ai2 qlearning_rl `
  --qtableP1 ./qtable-1v1-seq3.json `
  --qtableP2 ./qtable-qlearning-clean.json `
  --games 200 `
  --width 10 `
  --height 10 `
  --maxTurns 500

# å¯¹æ¯” StrategyRLAI å’Œ AdaptiveAI
node src/training/train.js compare `
  --ai1 strategy_rl `
  --ai2 adaptive `
  --qtableP1 ./qtable-1v1-seq3.json `
  --games 200 `
  --width 10 `
  --height 10 `
  --maxTurns 500
```

**æ³¨æ„**ï¼šä½¿ç”¨ RL AI æ—¶ï¼Œéœ€è¦é€šè¿‡ `--qtablePN` å‚æ•°æŒ‡å®š Q è¡¨æ–‡ä»¶è·¯å¾„ï¼ˆN ä¸ºç©å®¶ç¼–å·ï¼‰ã€‚

## AIè®­ç»ƒå’Œè¯„ä¼°ç³»ç»Ÿ

### æ¦‚è¿°

é¡¹ç›®åŒ…å«å®Œæ•´çš„AIè®­ç»ƒå’Œè¯„ä¼°æ¡†æ¶ï¼Œç”¨äºæµ‹è¯•å’Œä¼˜åŒ–AIæ€§èƒ½ã€‚ç³»ç»Ÿé‡‡ç”¨å¤šç»´åº¦è¯„ä¼°ã€æ•°æ®é›†åˆ†ç¦»ã€å¯¹æŠ—æ€§æµ‹è¯•ç­‰æ–¹æ³•ï¼Œé¿å…è¿‡æ‹Ÿåˆé—®é¢˜ã€‚

### å¼ºåŒ–å­¦ä¹ è®­ç»ƒ

#### å¿«é€Ÿå¼€å§‹

**è®­ç»ƒ StrategyRLAIï¼š**

```powershell
# åŸºç¡€è®­ç»ƒï¼ˆå¯¹ randomï¼‰
node src/training/train_rl.js `
  --agent strategy `
  --episodes 2000 `
  --players 2 `
  --width 10 `
  --height 10 `
  --maxTurns 500 `
  --mode against-fixed `
  --opponent random `
  --savePath ./qtable-strategy.json

# è¿›é˜¶è®­ç»ƒï¼ˆå¯¹ adaptiveï¼Œç»§ç»­ä¹‹å‰çš„Qè¡¨ï¼‰
node src/training/train_rl.js `
  --agent strategy `
  --episodes 2000 `
  --opponent adaptive `
  --loadPath ./qtable-strategy.json `
  --savePath ./qtable-strategy.json
```

**è®­ç»ƒ QLearningAIï¼š**

```powershell
# ä½¿ç”¨ä¸“ç”¨è®­ç»ƒè„šæœ¬
node src/training/train_qlearning.js `
  --episodes 2000 `
  --opponent random `
  --savePath ./qtable-qlearning.json
```

#### è®­ç»ƒå‚æ•°è¯´æ˜

- `--agent`: AIç±»å‹ï¼ˆ`strategy` æˆ– `qlearning`ï¼‰
- `--episodes`: è®­ç»ƒè½®æ•°
- `--players`: ç©å®¶æ•°é‡
- `--width/--height`: åœ°å›¾å°ºå¯¸
- `--maxTurns`: æœ€å¤§å›åˆæ•°
- `--mode`: è®­ç»ƒæ¨¡å¼ï¼ˆ`self-play`ã€`against-fixed`ã€`mixed`ï¼‰
- `--opponent`: å¯¹æ‰‹ç±»å‹ï¼ˆ`random`ã€`adaptive` ç­‰ï¼‰
- `--savePath`: Qè¡¨ä¿å­˜è·¯å¾„
- `--loadPath`: åŠ è½½å·²æœ‰Qè¡¨ç»§ç»­è®­ç»ƒ
- `--saveInterval`: æ¯éš”å¤šå°‘è½®ä¿å­˜ä¸€æ¬¡
- `--logInterval`: æ¯éš”å¤šå°‘è½®è¾“å‡ºè¿›åº¦

#### å‰ç«¯ä½¿ç”¨è®­ç»ƒå¥½çš„æ¨¡å‹

è®­ç»ƒå¥½çš„Qè¡¨æ–‡ä»¶ä¼šè‡ªåŠ¨åŠ è½½åˆ°å‰ç«¯ï¼š

1. **éƒ¨ç½²Qè¡¨æ–‡ä»¶**ï¼šå°†Qè¡¨æ–‡ä»¶å¤åˆ¶åˆ° `public/` ç›®å½•
2. **é…ç½®æ˜ å°„**ï¼šåœ¨ `src/store/gameStore.js` ä¸­é…ç½®Qè¡¨æ–‡ä»¶è·¯å¾„
3. **é€‰æ‹©AIç±»å‹**ï¼šåœ¨æ¸¸æˆèœå•ä¸­é€‰æ‹©"ç­–ç•¥RL AI"æˆ–"Q-Learning AI"
4. **è‡ªåŠ¨åŠ è½½**ï¼šæ¸¸æˆåˆå§‹åŒ–æ—¶è‡ªåŠ¨é€šè¿‡fetchåŠ è½½Qè¡¨

å½“å‰å·²é…ç½®çš„Qè¡¨ï¼š
- `StrategyRLAI` â†’ `/qtable-strategy.json`
- `QLearningAI` â†’ `/qtable-qlearning.json`

### æ ¸å¿ƒè®¾è®¡ç†å¿µ

- **å¤šç»´åº¦è¯„ä¼°**ï¼šä¸åªçœ‹èƒœç‡ï¼Œè¿˜è¯„ä¼°æ•ˆç‡ã€ç¨³å®šæ€§ç­‰æŒ‡æ ‡
- **æ•°æ®é›†åˆ†ç¦»**ï¼šè®­ç»ƒé›†ï¼ˆåŸºç¡€åœºæ™¯ï¼‰ã€éªŒè¯é›†ï¼ˆå¯¹æŠ—æ€§æµ‹è¯•ï¼‰ã€æµ‹è¯•é›†ï¼ˆè¾¹ç•Œæƒ…å†µï¼‰
- **å¯¹æŠ—æ€§æµ‹è¯•**ï¼šæ¨¡æ‹ŸçœŸå®å¯¹æŠ—åœºæ™¯ï¼ˆè¢«å›´æ”»ã€èµ„æºåŠ£åŠ¿ã€é•¿æœŸå¯¹æŠ—ï¼‰
- **ç¨³å®šæ€§è¯„ä¼°**ï¼šé€šè¿‡æ ‡å‡†å·®ã€å˜å¼‚ç³»æ•°ã€åˆ†ä½æ•°è¯„ä¼°è¡¨ç°ç¨³å®šæ€§

### å¿«é€Ÿå¼€å§‹

**âš ï¸ æ³¨æ„ï¼šæ‰€æœ‰å‚æ•°éƒ½æ˜¯å¿…éœ€çš„ï¼Œå¿…é¡»å®Œæ•´æä¾›**

#### Bash / Linux / macOS

```bash
# è¯„ä¼°adaptive AI
npm run train:evaluate -- \
  --ai adaptive \
  --games 50 \
  --validation 50 \
  --against random \
  --mapSizes 10x10,15x15 \
  --players 2,3,4,5,6 \
  --maxTurns 1500 \
  --maxTime 30000

# å¯¹æ¯”ä¸¤ä¸ªAI
npm run train:compare -- \
  --ai1 adaptive \
  --ai2 random \
  --games 50 \
  --width 25 \
  --height 25 \
  --maxTurns 500 \
  --maxTime 30000

# åŸºå‡†æµ‹è¯•æ‰€æœ‰AI
npm run train:benchmark -- \
  --all \
  --games 50 \
  --validation 25 \
  --against random \
  --mapSizes 20x20,30x30 \
  --players 2,3 \
  --maxTurns 500 \
  --maxTime 30000
```

#### PowerShell / Windows

**æ¨èä½¿ç”¨å•è¡Œå‘½ä»¤ï¼š**

```powershell
# è¯„ä¼°adaptive AI
node src/training/train.js evaluate --ai adaptive --games 50 --validation 50 --against random --mapSizes 10x10,15x15 --players 2,3,4,5,6 --maxTurns 1500 --maxTime 30000

# å¯¹æ¯”ä¸¤ä¸ªAI
node src/training/train.js compare --ai1 adaptive --ai2 random --games 50 --width 25 --height 25 --maxTurns 500 --maxTime 30000

# åŸºå‡†æµ‹è¯•æ‰€æœ‰AI
node src/training/train.js benchmark --all --games 50 --validation 25 --against random --mapSizes 20x20,30x30 --players 2,3 --maxTurns 500 --maxTime 30000
```

**æˆ–ä½¿ç”¨åå¼•å·ä½œä¸ºè¡Œç»§ç»­ç¬¦ï¼š**

```powershell
# è¯„ä¼°adaptive AI
node src/training/train.js evaluate `
  --ai adaptive `
  --games 50 `
  --validation 50 `
  --against random `
  --mapSizes 10x10,15x15 `
  --players 2,3,4,5,6 `
  --maxTurns 1500 `
  --maxTime 30000
```

### å‘½ä»¤è¯´æ˜

#### evaluate - è¯„ä¼°å•ä¸ªAI

å¯¹å•ä¸ªAIè¿›è¡Œå¤šç»´åº¦ã€å¤šå±‚æ¬¡çš„å…¨é¢è¯„ä¼°ï¼ŒåŒ…æ‹¬åŸºç¡€åœºæ™¯ã€å¯¹æŠ—æ€§æµ‹è¯•ã€è¾¹ç•Œæƒ…å†µç­‰ã€‚

**å¿…éœ€å‚æ•°ï¼š**
- `--ai`: AIç±»å‹ï¼ˆå¦‚ï¼šadaptive, randomï¼‰
- `--games`: æ¯ä¸ªåŸºç¡€åœºæ™¯çš„æ¸¸æˆæ•°é‡
- `--validation`: æ¯ä¸ªå¯¹æŠ—æ€§åœºæ™¯çš„æ¸¸æˆæ•°é‡
- `--against`: å¯¹æ‰‹AIç±»å‹ï¼ˆé€—å·åˆ†éš”ï¼Œå¦‚ï¼šrandom,adaptiveï¼‰
- `--mapSizes`: åœ°å›¾å°ºå¯¸ï¼ˆæ ¼å¼ï¼š`10x10,15x15`ï¼‰
- `--players`: ç©å®¶æ•°é‡ï¼ˆé€—å·åˆ†éš”ï¼Œå¦‚ï¼š`2,3,4,5,6`ï¼‰
- `--maxTurns`: æœ€å¤§å›åˆæ•°
- `--maxTime`: è¶…æ—¶æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰

**å¯é€‰å‚æ•°ï¼š**
- `--output`: ä¿å­˜ç»“æœåˆ°JSONæ–‡ä»¶
- `--verbose`: è¯¦ç»†è¾“å‡º
- `--quiet`: é™é»˜æ¨¡å¼

#### compare - å¯¹æ¯”ä¸¤ä¸ªAI

ç›´æ¥å¯¹æ¯”ä¸¤ä¸ªAIåœ¨ç›¸åŒé…ç½®ä¸‹çš„å¯¹æˆ˜è¡¨ç°ã€‚

**å¿…éœ€å‚æ•°ï¼š**
- `--ai1`: ç¬¬ä¸€ä¸ªAIç±»å‹ï¼ˆç©å®¶1ï¼‰
- `--ai2`: ç¬¬äºŒä¸ªAIç±»å‹ï¼ˆç©å®¶2ï¼‰
- `--games`: å¯¹æˆ˜æ¸¸æˆæ•°é‡
- `--width`: åœ°å›¾å®½åº¦
- `--height`: åœ°å›¾é«˜åº¦
- `--maxTurns`: æœ€å¤§å›åˆæ•°
- `--maxTime`: è¶…æ—¶æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰

#### benchmark - åŸºå‡†æµ‹è¯•æ‰€æœ‰AI

å¯¹æ‰€æœ‰AIè¿›è¡ŒåŸºå‡†æµ‹è¯•å¹¶æ’åã€‚

**å¿…éœ€å‚æ•°ï¼š**
- `--all` æˆ– `--ais`: AIåˆ—è¡¨ï¼ˆ`--all` æµ‹è¯•æ‰€æœ‰AIï¼Œ`--ais` æŒ‡å®šAIåˆ—è¡¨ï¼Œé€—å·åˆ†éš”ï¼‰
- `--games`: æ¯ä¸ªAIçš„æµ‹è¯•æ¸¸æˆæ•°é‡
- `--validation`: æ¯ä¸ªAIçš„éªŒè¯æ¸¸æˆæ•°é‡
- `--against`: å¯¹æ‰‹AIç±»å‹ï¼ˆé€—å·åˆ†éš”ï¼‰
- `--mapSizes`: åœ°å›¾å°ºå¯¸ï¼ˆæ ¼å¼ï¼š`20x20,30x30`ï¼‰
- `--players`: ç©å®¶æ•°é‡ï¼ˆé€—å·åˆ†éš”ï¼‰
- `--maxTurns`: æœ€å¤§å›åˆæ•°
- `--maxTime`: è¶…æ—¶æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰

### è¯„ä¼°æŒ‡æ ‡

ç³»ç»Ÿä¼šè¯„ä¼°ä»¥ä¸‹æŒ‡æ ‡ï¼š

- **èƒœè´ŸæŒ‡æ ‡**ï¼šèƒœç‡ã€å­˜æ´»ç‡
- **æ•ˆç‡æŒ‡æ ‡**ï¼šæ¯å›åˆç§»åŠ¨æ•°ã€å•ä½åˆ©ç”¨ç‡
- **ç¨³å®šæ€§æŒ‡æ ‡**ï¼šæ ‡å‡†å·®ã€å˜å¼‚ç³»æ•°ã€åˆ†ä½æ•°ï¼ˆP25/P75/P95ï¼‰
- **åœºæ™¯è¦†ç›–**ï¼šä¸åŒåœ°å›¾å°ºå¯¸ã€ç©å®¶æ•°é‡ã€å¯¹æ‰‹ç±»å‹

### è¯¦ç»†æ–‡æ¡£

**ğŸ“– å®Œæ•´è®­ç»ƒç³»ç»Ÿæ–‡æ¡£è¯·æŸ¥çœ‹ï¼š[src/training/README.md](./src/training/README.md)**

**ğŸ“– å‘½ä»¤è¯¦è§£è¯·æŸ¥çœ‹ï¼š[src/training/COMMANDS.md](./src/training/COMMANDS.md)**

**ğŸ“– è¯„ä¼°æŒ‡æ ‡è¯´æ˜è¯·æŸ¥çœ‹ï¼š[src/training/METRICS.md](./src/training/METRICS.md)**

**ğŸ“– RLç­–ç•¥æ–‡æ¡£è¯·æŸ¥çœ‹ï¼š[src/training/RL_STRATEGY.md](./src/training/RL_STRATEGY.md)**

**ğŸ“– é¡¹ç›®æŠ€æœ¯æŠ¥å‘Šè¯·æŸ¥çœ‹ï¼š[PROJECT_REPORT.md](./PROJECT_REPORT.md)**

## æ¸¸æˆæˆªå›¾

ï¼ˆå¯åœ¨æ­¤å¤„æ·»åŠ æ¸¸æˆæˆªå›¾ï¼‰

## å¼€å‘è®¡åˆ’

è¯¦ç»†å¼€å‘è®¡åˆ’è¯·æŸ¥çœ‹ [PROJECT_PLAN.md](./PROJECT_PLAN.md)

## è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## License

MIT

## å‚è€ƒèµ„æ–™

- [Generals.io å®˜æ–¹ç½‘ç«™](https://generals.io)
- [Generals.io æ¸¸æˆè§„åˆ™](https://generals.io/help)

---

**æ³¨æ„**: è¿™æ˜¯ä¸€ä¸ªç‹¬ç«‹å¼€å‘çš„æ¸¸æˆé¡¹ç›®ï¼Œä¸å®˜æ–¹çš„ generals.io æ— å…³ã€‚
